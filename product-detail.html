<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Halo Sweet - Tiệm bánh ngọt ngào</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="style2.css">
    <style>

        /* Breadcrumb */
        .breadcrumb {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
            font-size: 14px;
        }

        .breadcrumb a {
            color: var(--accent-color);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        /* Main Container */
        .detail-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Product Detail Layout */
        .product-detail-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            margin-bottom: 60px;
            background: var(--white);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        /* Image Gallery */
        .image-gallery {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .main-image-container {
            width: 100%;
            height: 500px;
            overflow: hidden;
            border-radius: 16px;
            position: relative;
            cursor: zoom-in;
            border: 2px solid #f0f0f0;
        }

        .main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.15s ease-out;
        }

        .zoom-icon {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(255,255,255,0.9);
            padding: 10px;
            border-radius: 50%;
            font-size: 18px;
            color: var(--accent-color);
        }

        .thumbnail-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
        }

        .thumbnail {
            min-width: 80px;
            height: 80px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            object-fit: cover;
        }

        .thumbnail:hover {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }

        .thumbnail.active {
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(151, 161, 59, 0.3);
        }

        /* Product Info */
        .detail-info h1 {
            font-size: 32px;
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .rating-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stars {
            color: #ffc107;
            font-size: 18px;
        }

        .review-count {
            color: #888;
            font-size: 14px;
        }

        .price-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .current-price {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent-color);
        }

        .original-price {
            font-size: 20px;
            text-decoration: line-through;
            color: #999;
        }

        .discount-badge {
            background: #e74c3c;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .stock-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: #d4edda;
            color: #155724;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .stock-status.low-stock {
            background: #fff3cd;
            color: #856404;
        }

        .description {
            line-height: 1.8;
            margin-bottom: 25px;
            color: #666;
        }

        /* Product Features */
        .features-list {
            list-style: none;
            margin-bottom: 25px;
        }

        .features-list li {
            padding: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .features-list li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .btn-primary {
            flex: 1;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            background: var(--accent-color);
            color: white;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }

        .btn-primary:hover {
            background: #7d8a32;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .btn-secondary {
            padding: 15px 25px;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            background: white;
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Tabs Section */
        .tabs-container {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }

        .tabs-header {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 25px;
        }

        .tab-btn {
            padding: 15px 30px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #888;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            color: var(--accent-color);
        }

        .tab-btn.active {
            color: var(--accent-color);
            border-bottom-color: var(--accent-color);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* === RELATED PRODUCTS === */
.related-section {
    margin-top: 60px;
}

.section-title {
    font-size: 32px;
    text-align: center;
    margin-bottom: 40px;
    font-weight: 700;
    color: var(--text-color);
}

.related-wrapper {
    position: relative;
    padding: 0 70px;
}

.related-scroll {
    display: flex;
    gap: 28px;
    overflow: hidden;
    scroll-behavior: smooth;
    padding: 20px 4px;
}

.related-item {
    min-width: calc((100% - 84px) / 4);
    background: white;
    border-radius: 22px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
    transition: all 0.35s ease;
    cursor: pointer;
    text-decoration: none;
    color: inherit;
    display: block;
    position: relative;
    transform: translateY(0);
}

.related-item:hover {
    transform: translateY(-10px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
}

.related-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(224,163,187,0.12),
        rgba(151,161,59,0.12)
    );
    opacity: 0;
    transition: opacity 0.35s ease;
    z-index: 1;
}
.related-item:hover::before {
    opacity: 1;
}

.related-img-wrapper {
    width: 100%;
    height: 220px;
    overflow: hidden;
    position: relative;
    border-radius: 22px 22px 0 0;
}

.related-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.45s ease;
    border-radius: inherit;
}

.related-item:hover img {
    transform: scale(1.12);
}

.related-badge {
    position: absolute;
    top: 14px;
    right: 14px;
    background: var(--accent-color);
    color: white;
    padding: 6px 14px;
    border-radius: 30px;
    font-size: 12px;
    font-weight: 600;
    z-index: 2;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.related-item-info {
    padding: 22px 20px;
    position: relative;
    z-index: 2;
}

.related-item h4 {
    font-size: 18px;
    margin-bottom: 10px;
    color: var(--text-color);
    font-weight: 700;
    line-height: 1.35;
    min-height: 48px;
}

.related-price {
    color: var(--accent-color);
    font-weight: 800;
    font-size: 22px;
    display: block;
    margin-bottom: 12px;
}

.related-rating {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    color: #444;
}

.related-stars {
    color: #ffc107;
}

.related-count {
    color: #888;
}

.arrow-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 55px;
    height: 55px;
    border-radius: 50%;
    border: none;
    background: rgba(151,161,59,0.75);
    color: white;
    font-size: 22px;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
    backdrop-filter: blur(4px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.18);
}

.arrow-btn:hover {
    background: var(--accent-color);
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 6px 25px rgba(0,0,0,0.25);
}

.arrow-btn:active {
    transform: translateY(-50%) scale(0.92);
}

.arrow-btn.left { left: 0; }
.arrow-btn.right { right: 0; }

.arrow-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
    transform: translateY(-50%) scale(1);
}

        /* Notification Toast */
        .toast {
            position: fixed;
            top: 100px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            transform: translateX(400px);
            transition: transform 0.3s;
            z-index: 2000;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success { border-left: 4px solid var(--success-color); }
        .toast.error { border-left: 4px solid var(--error-color); }

        /* Responsive */
        @media (max-width: 968px) {
            .product-detail-wrapper {
                grid-template-columns: 1fr;
                padding: 20px;
            }

            .main-image-container {
                height: 400px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .arrow-btn {
                display: none;
            }
        }
    </style>
</head>

<body>

    <!-- 1. TOP BAR -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-left">
                <span><i class="fas fa-phone-alt"></i> 0909 123 456</span> 
                <span class="separator">|</span>
                <span class="desktop-only"><i class="fas fa-clock"></i> 07:00 - 20:00</span>
            </div>
            <div class="top-bar-right">
                <a href="#" class="topbar__link"><i class="fa-brands fa-facebook"></i></a>
                <a href="#" class="topbar__link"><i class="fa-brands fa-instagram"></i></a>
                <a href="#" class="topbar__link"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container navbar">
            <div class="logo">
                <i class="fas fa-bread-slice"></i> Halo Sweet Bakery
            </div>
            <div class="menu-toggle"><i class="fas fa-bars"></i></div>
            <ul class="nav-links">
                <!-- Data-target dùng để jQuery biết cần hiện trang nào -->
                <li><a href="index.html" class="nav-item">Trang Chủ</a></li>
                <li><a href="introduce.html" class="nav-item">Giới Thiệu</a></li>
                <li><a href="product.html" class="nav-item active">Sản Phẩm</a></li>
                <li><a href="recipe.html" class="nav-item">Công Thức</a></li>
                <li>
                    <a href="contact.html" class="btn-navbar-highlight">
                        Liên hệ
                    </a>
                </li>
            </ul>
        </div>
    </header>

<!-- NÚT LÊN ĐẦU TRANG -->
    <div id="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </div>
    
    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <a href="index.html"><i class="fas fa-home"></i> Trang chủ</a> / 
        <a href="product.html">Sản phẩm</a> / 
        <span>Tart Chocolate</span>
    </div>

    <main class="detail-container">
        <!-- Product Detail -->
        <div class="product-detail-wrapper">
            <!-- Image Gallery -->
            <div class="image-gallery">
                <div class="main-image-container" id="mainImageContainer">
                    <img src="cake-pic/tiramisudautay320.jpg" 
                         alt="Tiramisu dâu tây" 
                         class="main-image" 
                         id="mainImage">
                    <div class="zoom-icon"><i class="fas fa-search-plus"></i></div>
                </div>
                <div class="thumbnail-container">
                    <img src="cake-pic/traicay.jpg" 
                         class="thumbnail active" 
                         alt="Góc nhìn 1">
                    <img src="https://i.pinimg.com/1200x/c5/e6/4a/c5e64a79e9600eb0e02ef21943a5a5b4.jpg" 
                         class="thumbnail" 
                         alt="Góc nhìn 2">
                    <img src="https://i.pinimg.com/1200x/3d/58/10/3d5810d8be088d4959c7b2dccb218e3c.jpg" 
                         class="thumbnail" 
                         alt="Góc nhìn 3">
                </div>
            </div>

            <!-- Product Info -->
            <div class="detail-info">
                <h1>Tart Chocolate Cao Cấp</h1>
                
                <div class="rating-section">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <span class="review-count">(128 đánh giá)</span>
                </div>

                <div class="price-section">
                    <span class="current-price">55.000đ</span>
                    <span class="original-price">75.000đ</span>
                    <span class="discount-badge">-27%</span>
                </div>

                <div class="stock-status">
                    <i class="fas fa-check-circle"></i>
                    <span>Còn hàng - Giao trong 2 giờ</span>
                </div>

                <p class="description">
                    Một chiếc Tiramisu mini Matcha đậm đà với lớp vỏ bánh giòn tan kết hợp cùng nhân chocolate Bỉ mềm mịn. 
                    Được làm từ 70% cacao nguyên chất, mang đến hương vị chocolate đắng nhẹ hòa quyện cùng vị ngọt thanh. 
                    Trang trí bằng bột matcha nguyên chất và chocolate shavings cao cấp.
                </p>

                <ul class="features-list">
                    <li>Match Nhật nguyên chất 90%</li>
                    <li>Chocolate Bỉ nguyên chất 70% cacao</li>
                    <li>Vỏ bánh giòn tan làm thủ công</li>
                    <li>Không chất bảo quản, làm tươi mỗi ngày</li>
                    <li>Bảo quản 3 ngày trong tủ lạnh</li>
                </ul>
                
                <!-- Action Buttons -->
                <div class="action-buttons">
                    <a href="contact.html" class="btn-primary" id="buyNow">
                        <i class="fas fa-shopping-bag"></i>
                        Đặt Hàng Ngay
                    </a>
                    <button class="btn-secondary" id="addToWishlist">
                        <i class="far fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Tabs Section -->
        <div class="tabs-container">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="description">Mô tả</button>
                <button class="tab-btn" data-tab="ingredients">Thành phần</button>
                <button class="tab-btn" data-tab="reviews">Đánh giá (128)</button>
            </div>

            <div class="tab-content active" id="description">
                <h3 style="margin-bottom: 15px;">Về sản phẩm</h3>
                <p style="line-height: 1.8;">
                    Tart Chocolate là một trong những sản phẩm đặc trưng của Halo Sweet Bakery. 
                    Chúng tôi sử dụng chocolate Bỉ cao cấp với 70% hàm lượng cacao nguyên chất, 
                    kết hợp cùng công thức làm vỏ tart truyền thống của Pháp. Mỗi chiếc bánh 
                    được làm thủ công bởi các thợ làm bánh giàu kinh nghiệm, đảm bảo chất lượng 
                    và hương vị đồng đều.
                </p>
                <p style="line-height: 1.8; margin-top: 15px;">
                    Lớp vỏ bánh được làm từ bơ Pháp cao cấp, giòn tan và thơm béo. Nhân chocolate 
                    được pha chế theo tỷ lệ hoàn hảo, mang đến độ mịn màng tan chảy trong miệng. 
                    Trang trí hoàn thiện bằng bột cacao nguyên chất và chocolate shavings tạo 
                    nên vẻ ngoài sang trọng và hấp dẫn.
                </p>
            </div>

            <div class="tab-content" id="ingredients">
                <h3 style="margin-bottom: 15px;">Thành phần chính</h3>
                <ul style="line-height: 2;">
                    <li><strong>Vỏ bánh:</strong> Bột mì cao cấp, bơ Pháp, đường, trứng gà, muối</li>
                    <li><strong>Nhân:</strong> Chocolate Bỉ 70% cacao, kem tươi, bơ, đường</li>
                    <li><strong>Trang trí:</strong> Bột cacao nguyên chất, chocolate shavings</li>
                    <li><strong>Chất bảo quản:</strong> Không sử dụng</li>
                </ul>
                <p style="margin-top: 15px; color: #e74c3c;">
                    <strong>Lưu ý:</strong> Sản phẩm chứa gluten, sữa và trứng. 
                    Không phù hợp cho người dị ứng với các thành phần trên.
                </p>
            </div>

            <div class="tab-content" id="reviews">
                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer-name">hanari</span>
                        <span class="review-date">15/11/2024</span>
                    </div>
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p>Bánh chocolate rất ngon, vỏ giòn tan, nhân chocolate đậm đà không quá ngọt. Giao hàng nhanh, đóng gói cẩn thận. Sẽ ủng hộ tiệm lâu dài!</p>
                </div>

                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer-name">Lanne</span>
                        <span class="review-date">10/11/2024</span>
                    </div>
                    <div class="review-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <p>Chất lượng tốt, vị chocolate ngon. Giá cả xứng đáng với chất lượng. Mình sẽ quay lại mua!</p>
                </div>
            </div>
        </div>

        <!-- Related Products -->
        <div class="related-section">
            <h2 class="section-title">Sản phẩm tương tự</h2>
            <div class="related-wrapper">
                <button class="arrow-btn left" id="scrollLeft"><i class="fas fa-chevron-left"></i></button>
                <button class="arrow-btn right" id="scrollRight"><i class="fas fa-chevron-right"></i></button>

                <div class="related-scroll" id="relatedScroll">
                    <!-- Products will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER MỚI (Style Poeme Cake) -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                
                <!-- Cột 1: Thông tin liên hệ -->
                <div class="footer-col">
                    <h3 class="footer-title">Liên Hệ</h3>
                    <ul class="contact-info-list">
                        <li>
                            <i class="fas fa-map-marker-alt"></i> 
                            <span>123 Đường Bánh Ngọt, Quận 1, TP.HCM</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt"></i> 
                            <span>1800 1296</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i> 
                            <span>tiembanhhalosweet@gmail.com</span>
                        </li>
                        <li>
                            <i class="fas fa-certificate"></i> 
                            <span>ĐKKD: 0123456789 do Sở KHĐT TP.HCM cấp</span>
                        </li>
                    </ul>
                    <!-- Logo Bộ công thương (Demo) -->
                    <div class="gov-icon">
                        <i class="fa-solid fa-lemon"></i> Halo Sweet
                        
                    </div>
                </div>

                <!-- Cột 2: Sản Phẩm -->
                <div class="footer-col">
                    <h3 class="footer-title">Sản Phẩm</h3>
                    <ul class="footer-links">
                        <li><a href="product.html">Bánh Sinh Nhật</a></li>
                        <li><a href="product.html">Bánh Mì Tươi</a></li>
                        <li><a href="product.html">Cookies & Mini</a></li>
                        <li><a href="product.html">Bánh Theo Mùa</a></li>
                    </ul>
                </div>

                <!-- Cột 3: Liên Kết Nhanh -->
                <div class="footer-col">
                    <h3 class="footer-title">Liên Kết Nhanh</h3>
                    <ul class="footer-links">
                        <li><a href="introduce.html">Về Chúng Tôi</a></li>
                        <li><a href="recipe.html">Góc Chia Sẻ</a></li>
                        <li><a href="contact.html">Hệ Thống Cửa Hàng</a></li>
                        <li><a href="#">Chính Sách Bảo Mật</a></li>
                    </ul>
                </div>

                <!-- Cột 4: Thư Viện Ảnh (Gallery) -->
                <div class="footer-col">
                    <h3 class="footer-title">Thư Viện Ảnh</h3>
                    <div class="footer-gallery">
                        <img src="cake-pic/banhkemdau299.jpg" alt="Cake 1">
                        <img src="cake-pic/basque299.jpg" alt="Cake 2">
                        <img src="cake-pic/brownie22.jpg" alt="Cake 3">
                        <img src="cake-pic/beignet.jpg" alt="Cake 4">
                        <img src="cake-pic/crepe249.jpg" alt="Cake 5">
                        <img src="cake-pic/donut27.jpg" alt="Cake 6">
                    </div>
                </div>

            </div>
        </div>
        
        <!-- Dòng bản quyền dưới cùng -->
        <div class="copyright-bar">
            <div class="container">
                <p>&copy; 2023 Tiệm Bánh Halo Sweet. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle" style="color: var(--success-color); font-size: 24px;"></i>
        <div>
            <strong>Đã thêm vào yêu thích!</strong>
            <p style="margin: 0; font-size: 14px; color: #888;">Bạn có thể xem lại trong danh sách yêu thích</p>
        </div>
    </div>

    <script src="main.js" defer></script>
    <script src="products-data.js"></script>
    <script>
        // ===== PRODUCT DATABASE =====
        const products = [
            { id: '01', name: 'Bánh sinh nhật theo yêu cầu', price: 299000, img: 'cake-pic/banhsinhnhat299.jpg', type: 'cake', rating: 4.8, reviews: 221 },
            { id: '02', name: 'Bánh theo yêu cầu', price: 249000, img: 'cake-pic/banhtheoyeucau249.jpg', type: 'cake', rating: 4.9, reviews: 530 },
            { id: '06', name: 'Tiramisu Truyền Thống', price: 250000, img: 'cake-pic/tiramisu250.jpg', type: 'tiramisu', rating: 4.7, reviews: 264 },
            { id: '07', name: 'Tiramisu Dâu Tây', price: 320000, img: 'cake-pic/tiramisudautay320.jpg', type: 'tiramisu', rating: 4.9, reviews: 310 },
            { id: '08', name: 'Tiramisu mini Matcha', price: 22000, img: 'cake-pic/tiramisumatcha22.jpg', type: 'tiramisu', rating: 4.6, reviews: 198 },
            { id: '09', name: 'Tiramisu mini', price: 17000, img: 'cake-pic/tiramisumini17.jpg', type: 'tiramisu', rating: 4.7, reviews: 275 },
            { id: '03', name: 'Cupcake Caramel', price: 25000, img: 'cake-pic/cupcakecaramel25.jpg', type: 'cupcake', rating: 4.8, reviews: 357 },
            { id: '04', name: 'Cupcake Matcha', price: 27000, img: 'cake-pic/cupcakematchachip27.jpg', type: 'cupcake', rating: 4.7, reviews: 289 },
            { id: '05', name: 'Cupcake Vani', price: 25000, img: 'cake-pic/cupcakevani25.jpg', type: 'cupcake', rating: 4.8, reviews: 312 },
            { id: '10', name: 'Cupcake RedVelvet', price: 27000, img: 'cake-pic/cupcakeredvelvet27.jpg', type: 'cupcake', rating: 4.7, reviews: 298 },
            { id: '12', name: 'Donut', price: 27000, img: 'cake-pic/donut27.jpg', type: 'donut', rating: 4.5, reviews: 150 },
            { id: '11', name: 'Macaron Truyền Thống', price: 14000, img: 'cake-pic/macaron14.jpg', type: 'cookie', rating: 4.9, reviews: 384 },
            { id: '20', name: 'Macaron Christmas', price: 22000, img: 'cake-pic/macaronchristmas22.jpg', type: 'cookie', rating: 4.6, reviews: 210 },
            { id: '15', name: 'Set Macaron', price: 135000, img: 'cake-pic/setmacaron135.jpg', type: 'cookie', rating: 4.7, reviews: 175 },
            { id: '14', name: 'Set Donut Socola', price: 155000, img: 'cake-pic/setdonutsocola155.jpg', type: 'donut', rating: 4.6, reviews: 200 },
            { id: '13', name: 'Bánh quy', price: 17000, img: 'cake-pic/cookieschip17.jpg', type: 'cookie', rating: 4.7, reviews: 225 },
            { id: '19', name: 'Set Cookies Christmas', price: 249000, img: 'cake-pic/setcookies249.jpg', type: 'cookie', rating: 4.5, reviews: 180 },
            { id: '16', name: 'Bánh Sukem Socola', price: 25000, img: 'cake-pic/sukemsocola25.jpg', type: 'donut', rating: 4.7, reviews: 230 },
            { id: '17', name: 'Sukem Socola Mini', price: 21000, img: 'cake-pic/sukemsocolamini22.jpg', type: 'donut', rating: 4.6, reviews: 190 },
            { id: '18', name: 'Bánh RedVelvet', price: 299000, img: 'cake-pic/redvelvetcake299.jpg', type: 'cake', rating: 4.8, reviews: 280 },
            { id: '21', name: 'Bánh Churros', price: 14000, img: 'cake-pic/churros14.jpg', type: 'donut', rating: 4.9, reviews: 398 },
            { id: '23', name: 'Set Tiramisu', price: 199000, img: 'cake-pic/settiramisu199.jpg', type: 'tiramisu', rating: 4.9, reviews: 432 },
            { id: '25', name: 'Bánh Brownie', price: 22000, img: 'cake-pic/brownie22.jpg', type: 'cake', rating: 4.9, reviews: 398 },
            { id: '27', name: 'Cupcake Ginger', price: 27000, img: 'cake-pic/ginggercupcake27.jpg', type: 'cupcake', rating: 4.5, reviews: 152 },
            { id: '29', name: 'Bomboloni Donut', price: 27000, img: 'cake-pic/bomboloni27.jpg', type: 'donut', rating: 4.9, reviews: 420 },
            { id: '22', name: 'Bánh kem dâu tây', price: 299000, img: 'cake-pic/banhkemdau299.jpg', type: 'cake', rating: 5.0, reviews: 512 },
            { id: '24', name: 'Bánh Phô mai cháy', price: 299000, img: 'cake-pic/basque299.jpg', type: 'cake', rating: 4.6, reviews: 122 },
            { id: '26', name: 'Bánh rán Pháp Beignet', price: 17000, img: 'cake-pic/beignet.jpg', type: 'donut', rating: 4.5, reviews: 132 },
            { id: '28', name: 'Bánh quy gừng', price: 27000, img: 'cake-pic/ginger.jpg', type: 'cookie', rating: 4.4, reviews: 101 },
            { id: '30', name: 'Tiramisu ngàn lớp', price: 265000, img: 'cake-pic/crepe249.jpg', type: 'tiramisu', rating: 4.7, reviews: 235 },
            { id: '31', name: 'Mousse Socola', price: 159000, img: 'cake-pic/mousesocola27.jpg', type: 'mousse', rating: 4.7, reviews: 222 },
            { id: '32', name: 'Mousse Dâu tây', price: 159000, img: 'cake-pic/strawmousse.jpg', type: 'mousse', rating: 4.6, reviews: 210 },
            { id: '33', name: 'Set Mousse Mini', price: 159000, img: 'https://down-vn.img.susercontent.com/file/805af3be6cbb16704202cfe910462dca.webp', type: 'mousse', rating: 4.6, reviews: 200 },
            { id: '34', name: 'Mousse Blueberry Mini', price: 22000, img: 'https://i.pinimg.com/736x/d7/42/2d/d7422db89aea54f52436503950560311.jpg', type: 'mousse', rating: 4.7, reviews: 230 },
            { id: '35', name: 'Muffin ngũ cốc', price: 30000, img: 'https://i.pinimg.com/736x/7a/01/21/7a0121443d876c29d7bdb1c6585eb7b5.jpg', type: 'cupcake', rating: 4.8, reviews: 220 },
            { id: '36', name: 'Mousse Mocha', price: 22000, img: 'https://i.pinimg.com/1200x/0e/b3/cd/0eb3cd869291b9188d59ed1850cdbf4f.jpg', type: 'mousse', rating: 4.5, reviews: 110 },
        ];

        // Get product ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const currentProductId = urlParams.get('id') || '06';
    const currentProduct = getProductById(currentProductId);

    // Load product details
    if (currentProduct) {
        document.querySelector('.detail-info h1').textContent = currentProduct.name;
        document.querySelector('.current-price').textContent = currentProduct.price.toLocaleString('vi-VN') + 'đ';
        
        if (currentProduct.originalPrice) {
            document.querySelector('.original-price').textContent = currentProduct.originalPrice.toLocaleString('vi-VN') + 'đ';
            document.querySelector('.discount-badge').textContent = `-${currentProduct.discount}%`;
        }
        
        document.querySelector('.description').textContent = currentProduct.description;
        document.querySelector('.breadcrumb span').textContent = currentProduct.name;
        
        // Update main image
        document.getElementById('mainImage').src = currentProduct.img;
        
        // Update thumbnails if available
        if (currentProduct.images && currentProduct.images.length > 1) {
            const thumbnailContainer = document.querySelector('.thumbnail-container');
            thumbnailContainer.innerHTML = currentProduct.images.map((img, index) => 
                `<img src="${img}" class="thumbnail ${index === 0 ? 'active' : ''}" alt="Góc nhìn ${index + 1}">`
            ).join('');
        }
        
        // Update rating
        const fullStars = Math.floor(currentProduct.rating);
        const hasHalfStar = currentProduct.rating % 1 >= 0.5;
        let starsHTML = '';
        for (let i = 0; i < fullStars; i++) {
            starsHTML += '<i class="fas fa-star"></i>';
        }
        if (hasHalfStar) {
            starsHTML += '<i class="fas fa-star-half-alt"></i>';
        }
        for (let i = Math.ceil(currentProduct.rating); i < 5; i++) {
            starsHTML += '<i class="far fa-star"></i>';
        }
        document.querySelector('.rating-section .stars').innerHTML = starsHTML;
        document.querySelector('.review-count').textContent = `(${currentProduct.reviews} đánh giá)`;
        
        // Update features
        if (currentProduct.features) {
            document.querySelector('.features-list').innerHTML = currentProduct.features.map(f => `<li>${f}</li>`).join('');
        }
    }

        // ===== LOAD RELATED PRODUCTS =====
        function loadRelatedProducts() {
            const relatedScroll = document.getElementById('relatedScroll');
            const relatedProducts = products
                .filter(p => p.id !== currentProductId && p.type === currentProduct.type)
                .slice(0, 8);

            relatedScroll.innerHTML = relatedProducts.map(product => `
                <a href="product-detail.html?id=${product.id}" class="related-item">
                    <div class="related-img-wrapper">
                        <img src="${product.img}" alt="${product.name}">
                        <span class="related-badge">Mới</span>
                    </div>
                    <div class="related-item-info">
                        <h4>${product.name}</h4>
                        <span class="related-price">${product.price.toLocaleString('vi-VN')}đ</span>
                        <div class="related-rating">
                            <span class="related-stars">
                                ${'<i class="fas fa-star"></i>'.repeat(Math.floor(product.rating))}
                                ${product.rating % 1 >= 0.5 ? '<i class="fas fa-star-half-alt"></i>' : ''}
                            </span>
                            <span class="related-count">(${product.reviews})</span>
                        </div>
                    </div>
                </a>
            `).join('');

            updateArrowButtons();
        }

        // ===== IMAGE GALLERY =====
        const mainImage = document.getElementById('mainImage');
        const mainImageContainer = document.getElementById('mainImageContainer');
        const thumbnails = document.querySelectorAll('.thumbnail');

        thumbnails.forEach(thumb => {
            thumb.addEventListener('click', function() {
                mainImage.src = this.src;
                thumbnails.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        mainImageContainer.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;
            mainImage.style.transformOrigin = `${x}% ${y}%`;
            mainImage.style.transform = 'scale(2)';
        });

        mainImageContainer.addEventListener('mouseleave', function() {
            mainImage.style.transform = 'scale(1)';
        });

        // ===== WISHLIST =====
        const wishlistBtn = document.getElementById('addToWishlist');
        const toast = document.getElementById('toast');
        let isWishlisted = false;

        wishlistBtn.addEventListener('click', function() {
            isWishlisted = !isWishlisted;
            
            if (isWishlisted) {
                this.innerHTML = '<i class="fas fa-heart"></i>';
                this.style.background = '#ffe6f1';
                this.style.borderColor = '#E0A3BB';
                this.style.color = '#E0A3BB';
                
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            } else {
                this.innerHTML = '<i class="far fa-heart"></i>';
                this.style.background = 'white';
                this.style.borderColor = '#E0A3BB';
                this.style.color = '#E0A3BB';
            }
        });

        // ===== TABS =====
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const targetTab = this.dataset.tab;
                
                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById(targetTab).classList.add('active');
            });
        });

        // ===== RELATED PRODUCTS CAROUSEL =====
        const scrollLeftBtn = document.getElementById('scrollLeft');
const scrollRightBtn = document.getElementById('scrollRight');
const relatedScroll = document.getElementById('relatedScroll');

function updateArrowButtons() {
    const maxScroll = relatedScroll.scrollWidth - relatedScroll.clientWidth;
    scrollLeftBtn.disabled = relatedScroll.scrollLeft <= 0;
    scrollRightBtn.disabled = relatedScroll.scrollLeft >= maxScroll - 5;
}

scrollLeftBtn.addEventListener('click', function () {
    const itemWidth = relatedScroll.querySelector('.related-item').offsetWidth + 25;
    relatedScroll.scrollBy({ left: -itemWidth * 2, behavior: 'smooth' });
    setTimeout(updateArrowButtons, 400);
});

scrollRightBtn.addEventListener('click', function () {
    const itemWidth = relatedScroll.querySelector('.related-item').offsetWidth + 25;
    relatedScroll.scrollBy({ left: itemWidth * 2, behavior: 'smooth' });
    setTimeout(updateArrowButtons, 400);
});

updateArrowButtons();


        // ===== INITIALIZE =====
        loadRelatedProducts();

        // ===== STORE ORDER INFO BEFORE REDIRECT =====
        const buyNowBtn = document.getElementById('buyNow');
        
        buyNowBtn.addEventListener('click', function(e) {
            const orderDetails = {
                productId: currentProductId,
                productName: currentProduct.name,
                price: currentProduct.price,
                timestamp: new Date().toISOString()
            };
            
            sessionStorage.setItem('orderDetails', JSON.stringify(orderDetails));
        });

    </script>
</body>
</html>